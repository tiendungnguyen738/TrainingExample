<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org" 
      xmlns:sec="http://www.thymeleaf.org/thymeleaf-extras-springsecurity5">
<head>
<meta charset="UTF-8">
<title>Index Page</title>
</head>
<body>
	Logged user: <span sec:authentication="name"></span>
    <form action="#" th:action="@{/logout}" method="POST" style="display: inline;">
        <button type="submit">Đăng xuất</button>
    </form>
    
    <div style="text-align: center;">
    	<div class="container py-5">
    		<div class="row">
    			<div class="col-10 mx-auto">
    				
    				<h2>Tìm Kiếm</h2>
    				<form th:object="${hocSinhRequest}" th:action="@{/search}" method="post">  
				        <div>  
				            <label th:text="ten" th:for="ten"></label>  
				            <input type="text" th:field="*{ten}" class="form-control"/>  
				        </div>  
				        <div style="clear: both; display: block; height: 10px"></div>  
				        <div>  
				            <label th:text="tuoi" th:for="tuoi"></label>  
				            <input type="text" th:field="*{tuoi}" class="form-control"/>  
				        </div>  
				        <div style="clear: both; display: block; height: 10px"></div>  
				        <input type="submit" class="btn btn-success" value="Tìm Kiếm"/>  
				    </form> 
    				
    				<h1>Danh Sách Học Sinh</h1>
    				<table class="table table-striped">
    					<thead> 
    						<tr>
			                    <th scope="col">STT</th>
			                    <th scope="col">Tên</th>
			                    <th scope="col">Số Điện Thoại</th>
			                    <th scope="col">Ngày Sinh</th>
			                    <th scope="col">Địa Chỉ</th>
			                    <th scope="col">Chỉnh Sửa</th>
			                </tr>
    					</thead>
    					<tbody>
    						<tr th:each="user, i : ${users}">
    							<th scope="row" th:text="${i.index + 1}"></th>
    							<td th:text="${user.ten}"></td>
			                    <td th:text="${user.soDienThoai}"></td>
			                    <td th:text="${user.ngaySinh}"></td>
			                    <td th:text="${user.diaChi}"></td>
			                     <td>  
					                <a th:href="@{/edit?id={id}(id=${user.id})}" class="btn btn-primary">Sửa</a>  
					                <a th:href="@{/delete?id={id}(id=${user.id})}" class="btn btn-danger">Xóa</a>  
					            </td>
    						</tr>
    					</tbody>
    				</table>
    			</div>
    			<a th:href="@{/download-pdf-file/?type=pdf}">
					<button type="button" class="btn btn-outline-secondary" style="width: 15%;">
						DownLoad PDF
					</button>
				</a>
    		</div>
    	</div>
    </div>
</body>
</html>